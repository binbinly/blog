## 安装

### 下载

- [官方下载](https://downloads.mysql.com/archives/community/)
- [官网安装文档](https://dev.mysql.com/doc/refman/8.0/en/linux-installation.html)

## MySQL 语法

* | 符号用来指出几个选择中的一个，因此， NULL|NOT NULL 表示或者给出 NULL 或者给出 NOT NULL 。
* 包含在方括号中的关键字或子句（如[like this]）是可选的。
* 既没有列出所有的 MySQL 语句，也没有列出每一条子句和选项。

### SQL 执行顺序

```sql
(8)SELECT (9)DISTINCT  (11)<Top Num> <select list>
(1)FROM [left_table]
(3)<join_type> JOIN <right_table>
(2)        ON <join_condition>
(4)WHERE <where_condition>
(5)GROUP BY <group_by_list>
(6)WITH <CUBE | RollUP>
(7)HAVING <having_condition>
(10)ORDER BY <order_by_list> 
```

> 上面的序号代表 SQL 在运行时，数据库底层的先后顺序，我们可以看到：
WHERE 是在 GROUP BY 之前执行的，所以 WHERE 的后面是不能使用聚合函数来进行数据过滤的，只能使用 FROM 表里的字段来进行数据过滤；
HAVING 是在 GROUP BY 之后执行的，那么这些数据就都已经分过组了的，可以使用聚合函数来进行数据的分组过滤。

### INSERT

INSERT 给表增加一行。

``` sql
INSERT INTO tablename [(columns, ...)] VALUES(values, ...);
```

### INSERT SELECT

INSERT SELECT 插入 SELECT 的结果到一个表。

``` sql
INSERT INTO tablename [(columns, ...)]
SELECT columns, ... FROM tablename, ...
[WHERE ...];
```

### DELETE

DELETE 从表中删除一行或多行。

``` sql
DELETE FROM tablename [WHERE ...];
```

### UPDATE

UPDATE 更新表中一行或多行。

``` sql
UPDATE tablename SET columname=value, ... [WHERE ...];
```

### SELECT

SELECT 用于从一个或多个表（视图）中检索数据。

``` sql
SELECT columnname, ...
FROM tablename, ...
[WHERE ...]
[UNION ...]
[GROUP BY ...]
[HAVING ...]
[ORDER BY ...];
```

### CREATE TABLE

CREATE TABLE 用于创建新数据库表。为更新已经存在的表的结构，
使用 ALTER TABLE 。

``` sql
CREATE TABLE tablename
(
    column datatype [NULL|NOT NULL] [CONSTRAINTS],
    column datatype [NULL|NOT NULL] [CONSTRAINTS],
    ...
);
```

### CREATE INDEX

CREATE INDEX 用于在一个或多个列上创建索引。

``` sql
CREATE INDEX indexname ON tablename (column [ASC|DESC], ...);
```

### CREATE PROCEDURE

CREATE PROCEDURE 用于创建存储过程。

``` sql
CREATE PROCEDURE procedurename([parameters])
BEGIN
...
END;
```

### CREATE USER

CREATE USER 用于向系统中添加新的用户账户。

``` sql
CREATE USER username [@hostname] [IDENTIFIED BY [PASSWORD]'password'];
```

### CREATE VIEW

CREATE VIEW 用来创建一个或多个表上的新视图。

``` sql
CREATE [OR REPLACE] VIEW viewname AS SELECT ...;
```

### ALTER TABLE

ALTER TABLE 用来更新已存在表的模式。为了创建新表，应该使用 CREATE TABLE。

``` sql
ALTER TABLE tablename
(
    ADD column datatype [NULL|NOT NULL] [CONSTRAINTS],
    CHANGE column columns datatype [NULL|NOT NULL] [CONSTRAINTS],
    DROP column,
    ...
);
```

### DROP

DROP 永久地删除数据库对象（表、视图、索引等）。

``` sql
DROP DATABASE|INDEX|PROCEDURE|TABLE|TRICGER|USER|VIEW itemname;
```

### START TRANSACTION

START TRANSACTION 表示一个新的事务处理块的开始。

``` sql
START TRANSACTION;
```

### ROLLBACK

ROLLBACK 用于撤销一个事务处理块。

``` sql
ROLLBACK [TO savepointname];
```

### COMMIT

COMMIT 用来将事务处理写到数据库。

``` sql
COMMIT;
```

### SAVEPOINT

SAVEPOINT 为使用 ROLLBACK 语句设立保留点。

``` sql
SAVEPOINT sql;
```

## 数据类型

### 字符串

|数据类型  |说明|
|:---------|:--|
|CHAR      |1～255 个字符的定长串。它的长度必须在创建时指定，否则 MySQL 假定为 CHAR(1)|
|ENUM      |接受最多 64 K 个串组成的一个预定义集合的某个串|
|LONGTEXT  |与 TEXT 相同，但最大长度为 4GB|
|MEDIUMTEXT|与 TEXT 相同，但最大长度为 16K|
|SET       |接受最多 64 个串组成的一个预定义集合的零个或多个串|
|TEXT      |最大长度为 64K 的变长文本|
|TINYTEXT  |与 TEXT 相同，但最大长度为 255 字节|
|VARCHAR   |长度可变，最多不超过 255 字节。如果在创建时指定为 VARCHAR(n)，则可存储 0 到 n 个字符的变长串（其中 n≤255）|

### 数值

|数据类型         |说明|
|:---------------|:---|
|BIT             |位字段，1～64 位。（在 MySQL 5 之前，BIT 在功能上等价于 TINYINT|
|BIGINT          |整数值，支持9223372036854775808～9223372036854775807（如果是 UNSIGNED，为 0～18446744073709551615）的数|
|BOOLEAN（或 BOOL）|布尔标志，或者为 0 或者为 1，主要用于开/关（on/off）标志|
|DECIMAL（或 DEC） |精度可变的浮点值|
|DOUBLE          |双精度浮点值|
|FLOAT           |单精度浮点值|
|INT（或 INTEGER）|整数值，支持2147483648～2147483647（如果是 UNSIGNED，为 0～4294967295）的数|
|MEDIUMINT     |整数值，支持8388608～8388607（如果是 UNSIGNED，为 0～16777215）的数|
|REAL|4 字节的浮点值|
|SMALLINT        |整数值，支持32768～32767（如果是 UNSIGNED，为 0～65535）的数|
|TINYINT         |整数值，支持128～127（如果为 UNSIGNED，为 0～255）的数|

## 日期和时间数据类型

|数据类型  |说明|
|:--------|:---|
|DATE     |表示 1000-01-01～9999-12-31 的日期，格式为 YYYY-MM-DD|
|DATETIME |DATE 和 TIME 的组合|
|TIMESTAMP|功能和 DATETIME 相同（但范围较小）|
|TIME     |格式为 HH:MM:SS|
|YEAR     |用 2 位数字表示，范围是 70（1970 年）～69（2069 年），用 4 位数字表示，范围是 1901 年～2155 年|

## 二进制数据类型

|数据类型   |说明|
|:---------|:---|
|BLOB      |Blob 最大长度为 64KB|
|MEDIUMBLOB|Blob 最大长度为 16MB|
|LONGBLOB  |Blob 最大长度为 4GB|
|TINYBLOB  |Blob 最大长度为 255 字节|